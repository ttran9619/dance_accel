/*-----------------------------------------------------------------
-                           HackISU S2018
-              Valery S., Leif B., Alek E., Tyler T.
-----------------------------------------------------------------*/
#ifndef THREADEDQUEUE_H
#define THREADEDQUEUE_H

/*-----------------------------------------------------------------
-                           Includes
-----------------------------------------------------------------*/
#include <queue>
#include <mutex>

/*-----------------------------------------------------------------
-                        Literal Constants
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                           Enumerations
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                             Macros
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                        Forward Declarations
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                             Structs
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                             Functors
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                             Typedefs
-----------------------------------------------------------------*/

/*-----------------------------------------------------------------
-                             Classes
-----------------------------------------------------------------*/
template<typename T>
class ThreadedQueue
{
    private:
        std::queue<T>   collection;
        std::mutex      mu_queue;

    public:
        ThreadedQueue(){};
        ~ThreadedQueue(){};

        inline bool empty()
        {
            std::lock_guard<std::mutex> lock( mu_queue );
            return collection.empty();
        }

        inline size_t size()
        {
            std::lock_guard<std::mutex> lock( mu_queue );
            return collection.size();
        }

        inline void push( const T& aItem )
        {
            std::lock_guard<std::mutex> lock( mu_queue );
            return collection.push( aItem );
        }

        inline T& pop()
        {
            std::lock_guard<std::mutex> lock( mu_queue );
            return collection.pop();
        }

};
#endif